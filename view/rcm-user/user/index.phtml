<?php
use Zend\Permissions\Acl\Acl;
use Zend\Permissions\Acl\Role\GenericRole as Role;
?>
<pre>
<?php
/* ACL STUFF
$x = $this->isAllowed('pants', 'wear');

$u = $this->zfcUserIdentity();

var_dump($u);

$acl = new Acl();
*/
//$userService = new RcmUser\Service\RcmUserService();
//var_dump($userService->getUserInputFilter()); die;

$user = $userService->buildNewUser();

$user->setId('57a4de8e-225b-4e31-9f88-19ddb14fc13c');
$user->setUsername('Jimmy');
$user->setPassword('123123123');

echo "**Before action:\n";
var_dump($user);

/* AUTH */
$credential = '123123123';
//$credential = '$2y$14$gnILXpcRYPHJIvMm5BDJvuwtfvVTTf4hjPzZxhkJ5/jfeT7etqdzm';
$hash = '$2y$14$j9Svxu9s54QiIXgslz6AlueT8FwjUdY4gvsjicKSZtlqI.qDARA2i'; //'$2y$14$gnILXpcRYPHJIvMm5BDJvuwtfvVTTf4hjPzZxhkJ5/jfeT7etqdzm';
$isValid = $userService->getEncryptor()->verify($credential, $hash);
echo "Password is valid: ";
var_export($isValid);
/* */

/* CREATE *
$result = $userService->createUser($user);

echo "**After create:\n";
if(!$result->isSuccess()){

    echo "ERROR: ";
    var_dump($result->getMessages());
}

var_dump($result->getUser());
/* */

/* UPDATE *
$result = $userService->updateUser($user);

echo "**After update:\n";
if(!$result->isSuccess()){

    echo "ERROR: ";
    var_dump($result->getMessages());
}

var_dump($result->getUser());
/* */

?>

</pre>